# Data Dictionary

Data developers and integrators can use this data dictionary to make sure metrics are consistent across platforms. Each metric has a written description and a technical definition for developers.



## **Perps V3 Historical Data**

<table><thead><tr><th width="199">Metric</th><th width="268.3333333333333">Description</th><th>Definition</th></tr></thead><tbody><tr><td>Protocol fees</td><td>Fees charged by the Synthetix protocol to open or modify a position.</td><td><p>From the <code>PerpsMarketProxy.OrderSettled</code> event: <code>totalFees - collectedFees - referralFees - settlementReward</code><br><br>Alt: Sum of <code>CoreProxy.MarketUsdDeposited.amount</code></p><p></p><p>Filter by <code>marketId</code> for fees by market</p></td></tr><tr><td>Settlement fees</td><td>The fees paid to compensate keepers for pushing price updated, settling trades, and liquidating accounts.</td><td>Sum of <code>PerpsMarketProxy.OrderSettled.settlementReward</code></td></tr><tr><td>Referral fees</td><td>The fees paid to the referred address during the settlement of a trade.</td><td>Sum of <code>PerpsMarketProxy.OrderSettled.referralFees</code></td></tr><tr><td>Trading volume</td><td>The total value exchanged in markets, denominated in USD.</td><td>From <code>PerpsMarketProxy.OrderSettled</code>, sum of <code>sizeDelta * fillPrice</code></td></tr><tr><td>Open interest</td><td>The USD value of all open positions on a market at it's current price.</td><td>From <code>PerpsMarketProxy.MarketUpdated</code>...<br><br>Total OI: <code>size * price</code> <br>Long OI: <code>(size + skew)/2 * price</code><br>Short OI: <code>(size - skew)/2 * price</code></td></tr><tr><td>Funding rate</td><td>The amount of funding applied to an open position as a rate per 24 hours.<br><br>The funding velocity is the amount the rate is increasing or decreasing based on market skew.</td><td>From <code>PerpsMarketProxy.MarketUpdated</code>...<br><br><code>currentFundingRate</code> is the rate per 24 hours<br><code>currentFundingVelocity</code> is the amount the rate is increasing or decreasing per 24 hours<br><br>Example:<br><code>currentFundingRate = 0.001</code><br><code>currentFundingVelocity = 0.002</code><br><br>Positions are accruing funding at 0.1% per 24 hours. In 24 hours, we expect the funding rate to be 0.3%.</td></tr><tr><td>Trades</td><td>The count of unique trades settled on a market.</td><td>Count of <code>PerpsMarketProxy.OrderSettled</code> events</td></tr></tbody></table>

## **Perps V3 Markets**

| Metric            | Description                                                                                                                                                                           | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Market summary    | A snapshot of the current market state.                                                                                                                                               | <p><code>PerpsMarketProxy.getMarketSummary(marketId)</code> returns values useful for calculating common market stats:<br>- <code>size</code>: market size in asset units<br>- <code>skew</code>: the difference in long and short market sizes in asset units, positive is skewed long<br>- <code>currentFundingRate</code>: see "Funding rate"<br>- <code>currentFundingVelocity</code>: see "Funding rate"<br>- <code>indexPrice</code>: The most recent price published onchain <br>- <code>maxOpenInterest</code>: The max single-sided open interest in asset units</p> |
| Open interest     | The USD value of all open positions on a market at it's current price.                                                                                                                | <p>Available from "Market summary"<br><br>Total OI: <code>size * price</code> <br>Long OI: <code>(size + skew)/2 * price</code><br>Short OI: <code>(size - skew)/2 * price</code></p>                                                                                                                                                                                                                                                                                                                                                                                         |
| Funding rate      | <p>The amount of funding applied to an open position as a rate per 24 hours.<br><br>The funding velocity is the amount the rate is increasing or decreasing based on market skew.</p> | <p>Available from "Market summary"<br><br><code>currentFundingRate</code> is the rate per 24 hours<br><code>currentFundingVelocity</code> is the amount the rate is increasing or decreasing per 24 hours<br><br>See "historical" for an example.</p>                                                                                                                                                                                                                                                                                                                         |
| Open interest cap | The maximum size of one side (long/short) of a perps market.                                                                                                                          | Available from "Market summary"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Index price       | The price of the market at the last oracle update. Usually this price was set during the last trade or liquidation.                                                                   | `PerpsMarketProxy.indexPrice(marketId)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

## **Perps V3 Accounts and Positions**

| Metric                  | Description                                                                                                                                         | Definition                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Collateral value        | Value in USD of the collateral deposited to an account at current index prices.                                                                     | <p>Total value: <code>PerpsMarketProxy.totalCollateralValue(accountId)</code><br><br>Specified asset:<br><code>PerpsMarketProxy.getCollateralAmount(accountId, marketId)</code> where <code>marketId</code> is the spot synth market.</p>                                                                                                                                                                                               |
| Available margin        | Total amount of margin an account has available to back positions. It is the USD value of all collateral after applying unrealized pnl and funding. | `PerpsMarketProxy.getAvailableMargin(accountId)`                                                                                                                                                                                                                                                                                                                                                                                        |
| Withdrawable margin     | The amount of margin that can be withdrawn by an account, resulting in positions at max leverage                                                    | <p><code>PerpsMarketProxy.getWithdrawableMargin(accountId)</code><br><br>Alt: <br><code>initialMargin, maintenanceMargin = PerpsMarketProxy.getRequiredMargins(accountId)</code><br><code>withdrawableMargin = availableMargin - initialMargin</code> </p>                                                                                                                                                                              |
| Health factor           | A factor representing the account's risk of liquidation. Accounts with a health factor below 1 can be flagged for liquidation.                      | <p><code>initialMargin, maintenanceMargin = PerpsMarketProxy.getRequiredMargins(accountId)</code><br><code>availableMargin = PerpsMarketProxy.getAvailableMargin(accountId)</code><br>Health factor = <code>availableMargin / maintenanceMargin</code></p>                                                                                                                                                                              |
| Position unrealized pnl | The profits or losses accumulated on a position since the last contract interaction.                                                                | <p><code>PerpsMarketProxy.getOpenPosition(accountId, marketId)</code> returns:<br>- <code>pnl</code> : The unrealized pnl from changes in the index price<br>- <code>accruedFunding</code> : The USD value of funding accrued to the position<br><br>Note that these values update when positions are modified. This means funding will be realized and reset to 0. Historical funding and realized pnl requires offchain indexing.</p> |
| Fill price              | The average price a trader will receive after the premium or discount is applied to their order.                                                    | <p><code>PerpsMarketProxy.getFillPrice(marketId, orderSize, price)</code><br><br>- The <code>price</code> parameter should be fetched from the offchain Pyth price service </p>                                                                                                                                                                                                                                                         |
| Price impact            | The impact on a market's index price as a result of filling an order.                                                                               | <p>Starting with a <code>price</code> from the Pyth price service and a <code>fillPrice</code> from calling <code>getFillPrice</code>...<br><br><code>price impact = (fillPrice - price) / price)</code></p>                                                                                                                                                                                                                            |
| Estimated fees          | An estimate of the fees paid to open an order of a specified size.                                                                                  | <p><code>PerpsMarketProxy.computeOrderFees(marketId, sizeDelta)</code></p><p>Returns a USD amount of fees charged to open a position of size <code>sizeDelta</code></p><p><br>Note: The result is an estimate since other orders may be filled before yours. This can impact the skew and therefore the fill price and whether maker or taker fees are applied.</p>                                                                     |

